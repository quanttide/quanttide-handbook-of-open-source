---
stage: dev
---

# 设计新库

本篇文章介绍设计新库的一般原则。Python、Django、Flutter等语言框架的具体实践详见各个语言和框架手册。

## 设计用例

% 这一段表达的还比较混乱和模糊，文字还需要斟酌。

以`drf-versioned-models`为例，它的设计初衷是为了抽象数据模型的版本管理。

设计用例项目。通常是`example`或`examples`文件夹。用例项目通常来自于真实项目的简化。
因此用例项目实现了课程数据模型和商品数据模型的简化版的模型，留下了部分和这个库相关的关键字段，着重突出其版本管理的思路。使用**更真实的**数据模型是为了帮助用例的读者建立更直观的感知。

设计单元测试用例。通常是`test`或者`tests`文件夹。单元测试项目则更重视贴近库本身对概念的定义，用例往往使用**更抽象的**、更贴合库的概念，以提高单元测试可读性，也提高库的普适性。
比如，`tests`的`models.py`定义了三组模型，分别为versioned models、nested versioned models、multi part versioned models。第一类是基础模型，第二类是课程数据模型的抽象，第三类是商品数据模型的抽象。
